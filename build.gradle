
plugins {
	id 'groovy'
	id 'java-gradle-plugin'
}

allprojects {

	// Let's eat our own dog food (cannot be part of plugins block, though).
	// apply plugin: 'egg-versioning'
	group = 'ch.ergon'

	repositories {
		jcenter()
	}

	test {
		maxParallelForks = Runtime.runtime.availableProcessors()
	}
}

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

dependencies {
	compile gradleApi()
	compile project('egg-base')

	compile "org.codehaus.groovy:groovy-all:2.4.12"

	testCompile "org.spockframework:spock-core:1.1-groovy-2.4"

	// optional dependencies of spock
//	testCompile "org.hamcrest:hamcrest-core:1.3" // only necessary if Hamcrest matchers are used
//	testRuntime "net.bytebuddy:byte-buddy:1.6.5"          // allows mocking of classes (in addition to interfaces)
//	testRuntime "org.objenesis:objenesis:2.5.1" // allows mocking of classes without default constructor (together with CGLIB)

	testCompile 'org.eclipse.jgit:org.eclipse.jgit:4.3.1.201605051710-r'
}

